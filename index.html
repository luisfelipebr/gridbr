<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Make IBGE statistical grid and retrieve population census data.">
<title>IBGE statistical grid access with R • gridbr</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="IBGE statistical grid access with R">
<meta property="og:description" content="Make IBGE statistical grid and retrieve population census data.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">gridbr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="gridbr-ibge-statistical-grid-access-with-r">gridbr: IBGE statistical grid access with R<a class="anchor" aria-label="anchor" href="#gridbr-ibge-statistical-grid-access-with-r"></a>
</h1></div>
<!-- badges: start -->
<p><strong>The goal of ‘gridbr’ is to provide easy access to <a href="https://mapasinterativos.ibge.gov.br/grade/default.html" class="external-link">IBGE Statistical Grid</a></strong> (download available <a href="https://geoftp.ibge.gov.br/recortes_para_fins_estatisticos/grade_estatistica/censo_2010/" class="external-link">here</a>). It builds upon the development made in the project <a href="https://github.com/osm-codes/BR_IBGE" class="external-link">IBGE Statistical Grid in Compact Representation</a> (short paper available <a href="http://mtc-m16c.sid.inpe.br/ibi/8JMKD3MGPDW34P/45U7J5H" class="external-link">here</a>).</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <em>gridbr</em> from this GitHub repository with <code>devtools</code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"luisfelipebr/gridbr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://lucunha.com/gridbr/">gridbr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span></code></pre></div>
<p><strong>gridbr_download</strong> is the main function available in the package. It builds the geometry of IBGE statistical grid and merge it with 2010 population census data. The user must provide the area of interest (aoi) as a geospatial <a href="https://r-spatial.github.io/sf/index.html" class="external-link">sf</a> object.</p>
<p>In the following example, the Brazilian archipelago <a href="https://en.wikipedia.org/wiki/Fernando_de_Noronha" class="external-link">Fernando de Noronha</a> is used as aoi. It can be download in one line with the package <a href="https://ipeagit.github.io/geobr/" class="external-link">geobr</a> just by using its IBGE municipality code.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">geobr</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aoi</span> <span class="op">&lt;-</span> <span class="fu">read_municipality</span><span class="op">(</span><span class="fl">2605459</span>, showProgress <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">aoi</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-aoi-1.png" width="100%"></p>
<p>After loading the aoi, you can use the function <code>gridbr_download</code> to download the grid. Two arguments are mandatory: <code>input</code> and <code>cellsize</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aoi_grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/gridbr_download.html">gridbr_download</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">aoi</span>, </span>
<span>                            cellsize <span class="op">=</span> <span class="st">"1KM"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">aoi_grid</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 6 features and 5 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -32.48123 ymin: -3.890802 xmax: -32.46804 ymax: -3.836282</span></span>
<span><span class="co">#&gt; Geodetic CRS:  SIRGAS 2000</span></span>
<span><span class="co">#&gt;               id MASC FEM POP DOM_OCU                       geometry</span></span>
<span><span class="co">#&gt; 1 1KME7376N10816    0   0   0       0 POLYGON ((-32.47706 -3.8908...</span></span>
<span><span class="co">#&gt; 2 1KME7376N10817    0   0   0       0 POLYGON ((-32.47775 -3.8818...</span></span>
<span><span class="co">#&gt; 3 1KME7376N10818    0   0   0       0 POLYGON ((-32.47845 -3.8728...</span></span>
<span><span class="co">#&gt; 4 1KME7376N10819    0   0   0       0 POLYGON ((-32.47914 -3.8638...</span></span>
<span><span class="co">#&gt; 5 1KME7376N10820    0   0   0       0 POLYGON ((-32.47984 -3.8549...</span></span>
<span><span class="co">#&gt; 6 1KME7376N10821    0   0   0       0 POLYGON ((-32.48054 -3.8459...</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">aoi_grid</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">aoi</span><span class="op">)</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, border <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-grid-1.png" width="100%"></p>
<p>The IBGE statistical grid was made available in the following sizes: 500KM, 100KM, 50KM, 10KM, 5KM, 1KM and 200M. Using a different value will result in an error.</p>
<p>Retrieving population census data requires either an internet connection or the support package <a href="https://github.com/luisfelipebr/gridbr.data" class="external-link">gridbr.data</a>. If the user does not meet these requirements, the output will include only the cell’s id and geometry, but not population census data. If the user meet the requirements and still don’t want to download the data, they can specify it by setting the <code>census_data</code> parameter to FALSE.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aoi_grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/gridbr_download.html">gridbr_download</a></span><span class="op">(</span><span class="va">aoi</span>,</span>
<span>                            cellsize <span class="op">=</span> <span class="st">"1KM"</span>,</span>
<span>                            census_data <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">aoi_grid</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 6 features and 1 field</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -32.47775 ymin: -3.890802 xmax: -32.42292 ymax: -3.877677</span></span>
<span><span class="co">#&gt; Geodetic CRS:  SIRGAS 2000</span></span>
<span><span class="co">#&gt;               id                           geom</span></span>
<span><span class="co">#&gt; 1 1KME7376N10816 POLYGON ((-32.47706 -3.8908...</span></span>
<span><span class="co">#&gt; 2 1KME7377N10816 POLYGON ((-32.46804 -3.8901...</span></span>
<span><span class="co">#&gt; 3 1KME7378N10816 POLYGON ((-32.45901 -3.8894...</span></span>
<span><span class="co">#&gt; 4 1KME7379N10816 POLYGON ((-32.44999 -3.8887...</span></span>
<span><span class="co">#&gt; 5 1KME7380N10816 POLYGON ((-32.44097 -3.8880...</span></span>
<span><span class="co">#&gt; 6 1KME7381N10816 POLYGON ((-32.43194 -3.8873...</span></span></code></pre></div>
<p>The other optional parameter is related to the projection: by default, the output will have the same CRS as the input. If you want to keep the original grid CRS, with an equal area projection, you must set the <code>equal_area</code> parameter to TRUE.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aoi_grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/gridbr_download.html">gridbr_download</a></span><span class="op">(</span><span class="va">aoi</span>,</span>
<span>                            cellsize <span class="op">=</span> <span class="st">"1KM"</span>,</span>
<span>                            equal_area <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">aoi_grid</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 6 features and 5 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 7376000 ymin: 10816000 xmax: 7377000 ymax: 10822000</span></span>
<span><span class="co">#&gt; CRS:           +proj=aea +lat_0=-12 +lon_0=-54 +lat_1=-2 +lat_2=-22 +x_0=5000000 +y_0=10000000 +ellps=GRS80 +units=m +no_defs</span></span>
<span><span class="co">#&gt;               id MASC FEM POP DOM_OCU                       geometry</span></span>
<span><span class="co">#&gt; 1 1KME7376N10816    0   0   0       0 POLYGON ((7376000 10816000,...</span></span>
<span><span class="co">#&gt; 2 1KME7376N10817    0   0   0       0 POLYGON ((7376000 10817000,...</span></span>
<span><span class="co">#&gt; 3 1KME7376N10818    0   0   0       0 POLYGON ((7376000 10818000,...</span></span>
<span><span class="co">#&gt; 4 1KME7376N10819    0   0   0       0 POLYGON ((7376000 10819000,...</span></span>
<span><span class="co">#&gt; 5 1KME7376N10820    0   0   0       0 POLYGON ((7376000 10820000,...</span></span>
<span><span class="co">#&gt; 6 1KME7376N10821    0   0   0       0 POLYGON ((7376000 10821000,...</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>CC0</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing gridbr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Luis Cunha <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/luisfelipebr/gridbr/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/luisfelipebr/gridbr/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Luis Cunha.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
